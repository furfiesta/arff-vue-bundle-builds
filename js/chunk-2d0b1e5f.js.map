{"version":3,"sources":["webpack:///./node_modules/vue-cal/dist/drag-and-drop.es.js"],"names":["S","Object","defineProperty","V","t","e","l","enumerable","configurable","writable","value","T","o","c","v","id","date","_","m","u","el","cell","timeout","r","_eid","fromVueCal","toVueCal","M","this","_vuecal","timeStep","timeCellHeight","timeFrom","i","utils","n","y","a","getPosition","dataTransfer","getData","Math","round","parseInt","duration","endTimeMinutes","startTimeMinutes","max","_getEventStart","snapToTime","d","start","Date","setMinutes","min","end","target","nodeType","preventDefault","dropEffect","setData","JSON","stringify","offsetY","clickHoldAnEvent","domEvents","setTimeout","clearTimeout","timeoutId","deleting","dragAnEvent","_uid","dragging","draggingStatic","view","startDate","event","deleteAnEvent","switchView","currentTarget","contains","relatedTarget","className","includes","highlighted","switchToNarrowerView","highlightedSplit","parse","s","D","w","g","E","createAnEvent","split","events","find","mutableEvents","f","p","_updateEventStartEnd","addEventsToView","h","cleanupEvent","oldDate","newDate","oldSplit","newSplit","originalEvent","external","$emit","eventDragEnd","highlightedControl","clearInterval","setInterval","enabledViews","filter","setHours"],"mappings":"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","file":"js/chunk-2d0b1e5f.js","sourcesContent":["var S = Object.defineProperty;\nvar V = (t, e, l) => e in t ? S(t, e, { enumerable: !0, configurable: !0, writable: !0, value: l }) : t[e] = l;\nvar T = (t, e, l) => (V(t, typeof e != \"symbol\" ? e + \"\" : e, l), l);\n/**\n  * vue-cal v3.11.0\n  * (c) 2022 Antoni Andre <antoniandre.web@gmail.com>\n  * @license MIT\n  */\nlet o = null, c = null, v = { id: null, date: null }, _ = !1, m = !0, u = { el: null, cell: null, timeout: null };\nconst r = { _eid: null, fromVueCal: null, toVueCal: null }, M = class {\n  constructor(t) {\n    T(this, \"_vuecal\");\n    this._vuecal = t;\n  }\n  _getEventStart(t) {\n    const { timeStep: e, timeCellHeight: l, timeFrom: i, utils: n } = this._vuecal;\n    let { y: a } = n.cell.getPosition(t);\n    return a -= 1 * t.dataTransfer.getData(\"cursor-grab-at\"), Math.round(a * e / parseInt(l) + i);\n  }\n  _updateEventStartEnd(t, e, l, i) {\n    const n = 1 * l.duration || e.endTimeMinutes - e.startTimeMinutes;\n    let a = Math.max(this._getEventStart(t), 0);\n    if (this._vuecal.snapToTime) {\n      const d = a + this._vuecal.snapToTime / 2;\n      a = d - d % this._vuecal.snapToTime;\n    }\n    e.startTimeMinutes = a, e.start = new Date(new Date(i).setMinutes(a)), e.endTimeMinutes = Math.min(a + n, 1440), e.end = new Date(new Date(i).setMinutes(e.endTimeMinutes));\n  }\n  eventDragStart(t, e) {\n    if (t.target.nodeType === 3)\n      return t.preventDefault();\n    t.dataTransfer.dropEffect = \"move\", t.dataTransfer.setData(\"event\", JSON.stringify(e)), t.dataTransfer.setData(\"cursor-grab-at\", t.offsetY);\n    const { clickHoldAnEvent: l } = this._vuecal.domEvents;\n    setTimeout(() => {\n      l._eid = null, clearTimeout(l.timeoutId), e.deleting = !1;\n    }, 0), this._vuecal.domEvents.dragAnEvent._eid = e._eid, r._eid = e._eid, r.fromVueCal = this._vuecal._uid, e.dragging = !0, setTimeout(() => e.draggingStatic = !0, 0), _ = !1, v = { id: this._vuecal.view.id, date: this._vuecal.view.startDate }, m = !0;\n  }\n  eventDragEnd(t) {\n    this._vuecal.domEvents.dragAnEvent._eid = null, r._eid = null, t.dragging = !1, t.draggingStatic = !1;\n    const { fromVueCal: e, toVueCal: l } = r;\n    l && e !== l && this._vuecal.utils.event.deleteAnEvent(t), r.fromVueCal = null, r.toVueCal = null, _ && m && v.id && this._vuecal.switchView(v.id, v.date, !0);\n  }\n  cellDragEnter(t, e, l) {\n    const i = t.currentTarget;\n    if (!t.currentTarget.contains(t.relatedTarget)) {\n      if (i === u.el || !i.className.includes(\"vuecal__cell-content\"))\n        return !1;\n      u.el && (u.cell.highlighted = !1), u = { el: i, cell: e, timeout: clearTimeout(u.timeout) }, e.highlighted = !0, [\"years\", \"year\", \"month\"].includes(this._vuecal.view.id) && (u.timeout = setTimeout(() => this._vuecal.switchToNarrowerView(l), 2e3));\n    }\n  }\n  cellDragOver(t, e, l, i) {\n    t.preventDefault(), e.highlighted = !0, (i || i === 0) && (e.highlightedSplit = i);\n  }\n  cellDragLeave(t, e) {\n    t.preventDefault(), t.currentTarget.contains(t.relatedTarget) || (e.highlightedSplit = !1, u.cell === e && (clearTimeout(u.timeout), u = { el: null, cell: null, timeout: null }, e.highlighted = !1));\n  }\n  cellDragDrop(t, e, l, i) {\n    t.preventDefault(), clearTimeout(u.timeout), u = { el: null, cell: null, timeout: null };\n    const n = JSON.parse(t.dataTransfer.getData(\"event\") || \"{}\");\n    let a, d;\n    if (r.fromVueCal !== this._vuecal._uid) {\n      const { _eid: s, start: D, end: w, duration: g, ...E } = n;\n      a = this._vuecal.utils.event.createAnEvent(l, g, { ...E, split: i });\n    } else if (a = this._vuecal.view.events.find((s) => s._eid === r._eid), a || (a = this._vuecal.mutableEvents.find((s) => s._eid === r._eid), d = !!a), !a) {\n      const s = n.endTimeMinutes - n.startTimeMinutes, { start: D, end: w, ...g } = n;\n      a = this._vuecal.utils.event.createAnEvent(l, s, { ...g, split: i });\n    }\n    const { start: f, split: p } = a;\n    this._updateEventStartEnd(t, a, n, l), d && this._vuecal.addEventsToView([a]), a.dragging = !1, (i || i === 0) && (a.split = i), e.highlighted = !1, e.highlightedSplit = null, m = !1, r.toVueCal = this._vuecal._uid;\n    const h = { event: this._vuecal.cleanupEvent(a), oldDate: f, newDate: a.start, ...(i || i === 0) && { oldSplit: p, newSplit: i }, originalEvent: this._vuecal.cleanupEvent(n), external: !r.fromVueCal };\n    this._vuecal.$emit(\"event-drop\", h), this._vuecal.$emit(\"event-change\", { event: h.event, originalEvent: h.originalEvent }), setTimeout(() => {\n      r._eid && this.eventDragEnd(a);\n    }, 300);\n  }\n  viewSelectorDragEnter(t, e, l) {\n    t.currentTarget.contains(t.relatedTarget) || (l.highlightedControl = e, clearTimeout(o), o = setTimeout(() => {\n      if ([\"previous\", \"next\"].includes(e))\n        this._vuecal[e](), clearInterval(c), c = setInterval(this._vuecal[e], 800);\n      else if (e === \"today\") {\n        let i;\n        clearInterval(c), this._vuecal.view.id.includes(\"year\") && (i = this._vuecal.enabledViews.filter((n) => !n.includes(\"year\"))[0]), this._vuecal.switchView(i || this._vuecal.view.id, new Date(new Date().setHours(0, 0, 0, 0)), !0);\n      } else\n        this._vuecal.switchView(e, null, !0);\n      _ = !0;\n    }, 800));\n  }\n  viewSelectorDragLeave(t, e, l) {\n    t.currentTarget.contains(t.relatedTarget) || l.highlightedControl === e && (l.highlightedControl = null, o && (o = clearTimeout(o)), c && (c = clearInterval(c)));\n  }\n};\nexport {\n  M as DragAndDrop\n};\n"],"sourceRoot":""}